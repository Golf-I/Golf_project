<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.mapper.MemberMapper">


	<!-- 회원가입  -->	
	<insert id="signUp"> 
	<![CDATA[
	INSERT INTO member(name, id, pw, phone, birth, gender, sns, mms, mail, push,  icon)
	VALUES (#{name}, #{id}, #{pw}, #{phone}, #{birth}, #{gender}, #{sns}, #{mms}, #{mail}, #{push}, #{icon})
	]]>
	</insert>

	<!-- SNS 회원가입  -->	
	<!-- <insert id="socialSignup"> 
	<![CDATA[
	INSERT INTO users(username, email, nickname,  mobile, create_date)
	VALUES (#{username}, #{email}, #{nickname}, #{mobile}, NOW())
	]]>
	</insert> -->
	<!-- SNS 회원가입  -->	


	<!-- 이메일 중복 체크 -->
	<select id="duplCheck" resultType="int">
	<![CDATA[ 
	SELECT count(*)
	FROM member
	WHERE id = #{id}
	]]>
	</select>
	<!-- 이메일 중복 체크 -->
	
	
	<!-- 로그인 -->
	<select id="signIn" resultType="com.spring.domain.MemberVO">
	<![CDATA[
	SELECT id, pw
	FROM member
	WHERE id = #{id}
	AND pw = #{pw}
	]]>
	</select>
	<!-- 로그인 -->


	<!-- 아이디 찾기 -->
	<select id="findId" resultType="String">
	<![CDATA[
	SELECT id
	FROM member
	WHERE phone = #{phone}
	]]>
	</select>
	
	
	<!-- 비밀번호 찾기 -->
	<select id="findPw" resultType="com.spring.domain.MemberVO">
	<![CDATA[
	SELECT *
	FROM member
	WHERE id = #{id}
	AND name = #{name}
	]]>
	</select>

</mapper>